### ゲームプラットフォーム化 要件定義

1.  **目的**
    *   現在の「和音当てゲーム」単体の構成から脱却し、複数のミニゲームを提供できるようなプラットフォーム構造へと移行する。
    *   開発者が新しいゲームを簡単に追加・管理できるような、スケーラブルなアーキテクチャを構築する。

2.  **現状の課題**
    *   すべてのロジックや画面がトップレベルに配置されており、新しいゲームを追加する際には既存のファイルへの大幅な改修が必要となる。
    *   ファイル間の依存関係が密であり、特定のゲームの機能を分離・独立させることが困難。

3.  **提案アーキテクチャ**

    *   **ディレクトリ構造の刷新**
        *   プロジェクトルートに`games`ディレクトリを新設する。
        *   個々のゲームは、`games`ディレクトリ配下に「0埋め3桁のゲーム番号 + アンダースコア + ゲーム名」形式のサブディレクトリ（例: `games/001_chord_quiz/`）を作成し、その中にHTML, JavaScript, CSS, 画像などの関連ファイルをすべて格納する。
        *   各ゲームディレクトリには、ゲーム名、説明、エントリーポイントとなるHTMLファイル名を記述した設定ファイル（`game.json`）を配置する。

        **提案するディレクトリ構造 (例):**
        ```
        /
        ├── index.html            (新しいゲーム選択画面)
        ├── docs/
        │   └── GAME_ARCHITECTURE.md (本文書)
        ├── games/
        │   ├── 001_chord_quiz/
        │   │   ├── game.json     (ゲーム設定ファイル)
        │   │   ├── index.html    (ゲーム本体のHTML)
        │   │   └── script.js     (ゲームのロジック)
        │   └── 002_another_game/
        │       ├── game.json
        │       ├── index.html
        │       └── ...
        └── static/
            ├── common/           (複数ゲームで共用するリソース)
            │   ├── style.css
            │   └── site.js
            └── ...
        ```

    *   **ゲーム選択画面 (ランチャー)**
        *   ルートの`index.html`を、インストールされているゲームを一覧表示する「ゲーム選択画面」として再構築する。
        *   起動時に`games`ディレクトリ配下をスキャンし、各ゲームの`game.json`を読み込むことで、動的にゲーム選択メニューを生成する。
        *   ユーザーがゲームを選択すると、そのゲームのエントリーポイントとなるHTMLファイルに遷移する。

4.  **実装ステップ**
    1.  **要件定義書の作成**: 本内容で`docs/GAME_ARCHITECTURE.md`を作成する。
    2.  **ディレクトリ構造の準備**: 上記提案に基づき、`games`ディレクトリおよび共用リソース用の`static/common`ディレクトリを作成する。
    3.  **既存ゲームのリファクタリング**:
        *   現在の「和音当てゲーム」を`games/001_chord_quiz`ディレクトリに移動し、新しいアーキテクチャに適合させる。
        *   共通で利用可能なJavaScriptコードやCSSスタイルを`static/common`に分離する。
    4.  **ゲーム選択画面の実装**:
        *   ルートの`index.html`を全面的に改修し、ゲームランチャー機能を実装する。
    5.  **動作検証**: ゲーム選択から和音当てゲームのプレイまで、一連の流れが正常に動作することを確認する。
